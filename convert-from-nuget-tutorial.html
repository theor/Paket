<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Converting from NuGet
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A dependency manager for .NET with support for NuGet packages and git repositories."/>
    <meta name="author" content="Steffen Forkmann, Alexander Gross"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style type="text/css">
      table.pre td.lines {
        vertical-align: top;
      }
      pre.fssnip code[lang=batchfile],
      pre.fssnip code[lang=msh] {
        display: inline-block;
        white-space: pre-wrap;       /* CSS 3 */
        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
        white-space: -pre-wrap;      /* Opera 4-6 */
        white-space: -o-pre-wrap;    /* Opera 7 */
        word-wrap: break-word;       /* Internet Explorer 5.5+ */
        word-break: keep-all;
        padding-left: 2em;
        text-indent: -2em;
      }
    </style>
    <script type="text/javascript">
      $(function() {
        $("code[lang='batchfile'], code[lang='msh']").each(function() {
          $(this).html($(this).html().replace(/ &lt;/g, "&nbsp;&lt;"))
        })
      })
    </script>
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://github.com/fsprojects/Paket">github page</a></li>
        </ul>
        <h3 class="muted"><a href="./index.html">Paket</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Converting-from-NuGet" class="anchor" href="#Converting-from-NuGet">Converting from NuGet</a></h1>
<h2><a name="Automatic-NuGet-conversion" class="anchor" href="#Automatic-NuGet-conversion">Automatic NuGet conversion</a></h2>
<p>Paket comes with a command that helps to convert existing solution from NuGet's <code>packages.config</code> format to Paket's format.
If you want to use the command then:</p>
<ul>
<li>Please start by making a <strong>back-up of your repository</strong></li>
<li>Download Paket and it's BootStrapper as described in the <a href="getting-started.html#Downloading-Paket-and-it-s-BootStrapper">"Getting started" tutorial</a></li>
<li>Run the <code>convert-from-nuget</code> command:</li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="batchfile">$ .paket/paket.exe convert-from-nuget
</code></pre></td></tr></table>
<p>You can read more about the details and specific parameters for <code>convert-from-nuget</code> in the <a href="paket-convert-from-nuget.html">docs</a>.</p>
<h3><a name="Preparation" class="anchor" href="#Preparation">Preparation</a></h3>
<p>Choose a folder to run the conversion from that is parent to <strong>all</strong> the projects to be converted.</p>
<p>When using nuget package restore, the <code>packages</code> folder is alongside the solution. It is possible with a solution that the folder parent to <code>packages</code> is <strong>not</strong> also parent to all the projects in the solution.</p>
<p>A solution is in effect acting as a symlink but this indirection via the solution is not possible with paket because paket manages projects and not solutions. In the example below, it would not be possible to run the <code>paket convert-from-nuget</code> command from the <code>Build</code> folder but it would be from the root folder.</p>
<pre>
+---Build
|   |   Numbers.sln
|   |   
|   +---.nuget
|   |   NuGet.Config
|   |   NuGet.exe
|   |   NuGet.targets
|   |   
|   +---packages
|   
+---Encoding
|   |   Encoding.fsproj
|   |   packages.config
</pre>
<p>After running the conversion from the root folder:</p>
<pre>
+---.paket
|   |   paket.bootstrapper.exe
|   |   paket.exe
|   |   paket.targets
|
+---packages
|
+---Build
|   |   Numbers.sln
|   
+---Encoding
|   |   Encoding.fsproj
|   |   paket.references
</pre>
<h3><a name="Command-steps" class="anchor" href="#Command-steps">Command steps</a></h3>
<p>The <code>paket convert-from-nuget</code> command:</p>
<ol>
<li><p>Finds all <code>packages.config</code> files, generates a paket.dependencies file in the solution root and replaces each <code>packages.config</code> with an equivalent paket.references file.</p></li>
<li><p>If there is a solution-level <code>packages.config</code>, then it will be removed and its dependencies will be included into the paket.dependencies file.</p></li>
<li><p>If you use NuGet Package Restore (<a href="http://docs.nuget.org/docs/workflows/migrating-to-automatic-package-restore">MSBuild-Integrated or Automatic Visual Studio Package Restore</a>), then the <a href="paket-auto-restore.html"><code>paket auto-restore</code></a> command will be invoked.</p></li>
<li>
<p>Next (unless <code>--no-install</code> is specified), the <a href="paket-install.html">paket install</a> process with the <code>--hard</code> flag will be executed. This will:</p>
<ul>
<li>analyze the dependencies.</li>
<li>generate a paket.lock file.</li>
<li>remove all the old package references from your project files and install new references in Paket's syntax.</li>
</ul>
</li>
<li>
<p>If you specify <code>--force</code>, the conversion will attempt to infer additional dependencies from newly added / previously unprocessed <code>packages.config</code> files and</p>
<ul>
<li><p>add any newly discovered dependencies to the end of an existing <code>paket.dependencies</code> file.</p></li>
<li><p>transfer/append references from the <code>packages.config</code> files into <code>paket.references</code> files alongside.</p></li>
</ul>
</li>
</ol>
<h3><a name="Migrating-NuGet-source-credentials" class="anchor" href="#Migrating-NuGet-source-credentials">Migrating NuGet source credentials</a></h3>
<p>If you are using authorized NuGet feeds, convert-from-nuget command will automatically migrate the credentials for you.
Following are valid modes for the <code>--creds-migration</code> option:</p>
<ol>
<li><code>encrypt</code> -  Encrypt your credentials and save them in the <a href="paket-config-file.html">paket configuration file</a>.</li>
<li><code>plaintext</code> - Include your credentials in plaintext in the paket.dependencies file. See <a href="nuget-dependencies.html#plaintext-credentials">example</a>.</li>
<li><code>selective</code> - Use this switch if you're using more than one authorized NuGet feed, and you want to apply different modes for each of them.</li>
</ol>
<h2><a name="Simplify-direct-dependencies" class="anchor" href="#Simplify-direct-dependencies">Simplify direct dependencies</a></h2>
<p>After converting your solution from NuGet, you may end up with many transitive dependencies in your Paket files.
Consider using <a href="paket-simplify.html"><code>paket simplify</code></a> to remove unnecessary transitive dependencies from your paket.dependencies and paket.references files.</p>
<h2><a name="Partial-NuGet-conversion" class="anchor" href="#Partial-NuGet-conversion">Partial NuGet conversion</a></h2>
<p>The <code>convert-from-nuget</code> will not work if it discovers that the codebase already utilizes Paket (when <a href="dependencies-file.html"><code>paket.dependencies</code> file</a> is found).
However, if for some reason you happen to have a mixture of projects already migrated to Paket and projects still using NuGet, you can pass the <code>--force</code> flag to <code>convert-from-nuget</code> for the remaining projects.</p>


        </div>
        <div class="span3">
          <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Paket</li>
            <li><a href="./index.html">Home page</a></li>
            <li><a href="./getting-started.html">Getting started</a></li>
            <li><a href="./convert-from-nuget-tutorial.html">Convert from NuGet</a></li>
            <li><a href="./faq.html">FAQ</a></li>
            <li><a href="./glossary.html">Glossary</a></li>
            <li><a href="./release-notes.html">Release Notes</a></li>
            <li><a href="./testimonials.html">Testimonials</a></li>
            <li><a href="./license.html">License</a></li>

            <li class="nav-header">Download Paket</li>
            <li><a href="http://nuget.org/packages/Paket" target="_blank">From NuGet</a></li>
            <li><a href="https://github.com/fsprojects/Paket/releases/latest" target="_blank">From GitHub</a></li>
            
            <li class="nav-header">GitHub</li>
            <li><a href="http://github.com/fsprojects/Paket" target="_blank">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fsprojects/Paket/issues" target="_blank">Report an issue</a></li>          

            <li class="nav-header">Documentation</li>
            <li><a href="./dependencies-file.html">paket.dependencies</a></li>
            <li><a href="./lock-file.html">paket.lock</a></li>
            <li><a href="./references-files.html">paket.references</a></li>
            <li><a href="./template-files.html">paket.template</a></li>            
            <li><a href="./paket-folder.html">.paket folder</a></li>
            <li><a href="./bootstrapper.html">paket.bootstrapper.exe</a></li>
            <li class="divider"></li>
            <li><a href="./resolver.html">Package resolution algorithm</a></li>
            <li><a href="./groups.html">Dependency Groups</a></li>
            <li><a href="./caches.html">Additional Caches</a></li>
            <li><a href="./nuget-dependencies.html">NuGet dependencies</a></li>
            <li><a href="./git-dependencies.html">Git dependencies</a></li>
            <li><a href="./github-dependencies.html">GitHub dependencies</a></li>
            <li><a href="./http-dependencies.html">HTTP dependencies</a></li>
            <li><a href="./analyzers.html">Analyzers</a></li>            
            <li class="divider"></li>
            <li><a href="./installation.html">Installation</a></li>
            <li><a href="./reference-from-repl.html">Using Paket from F# Interactive</a></li>
            <li><a href="./editor-support.html">Editor support</a></li>
            <li class="divider"></li>
            <li><a href="./reference/index.html">API Reference</a></li>

            <li class="nav-header">Paket commands</li>
            <li><a href="./paket-add.html">paket add</a></li>
            <li><a href="./paket-auto-restore.html">paket auto-restore</a></li>
            <li><a href="./paket-clear-cache.html">paket clear-cache</a></li>
            <li><a href="./paket-config.html">paket config</a></li>
            <li><a href="./paket-convert-from-nuget.html">paket convert-from-nuget</a></li>
            <li><a href="./paket-find-refs.html">paket find-refs</a></li>
            <li><a href="./paket-find-packages.html">paket find-packages</a></li>
            <li><a href="./paket-find-package-versions.html">paket find-package-versions</a></li>
            <li><a href="./paket-init.html">paket init</a></li>          
            <li><a href="./paket-install.html">paket install</a></li>
            <li><a href="./paket-outdated.html">paket outdated</a></li>
            <li><a href="./paket-pack.html">paket pack</a></li>
            <li><a href="./paket-push.html">paket push</a></li>
            <li><a href="./paket-remove.html">paket remove</a></li>
            <li><a href="./paket-restore.html">paket restore</a></li>
            <li><a href="./paket-simplify.html">paket simplify</a></li>   
            <li><a href="./paket-show-groups.html">paket show-groups</a></li>
            <li><a href="./paket-show-installed-packages.html">paket show-installed-packages</a></li>         
            <li><a href="./paket-update.html">paket update</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsprojects/Paket"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
</html>
